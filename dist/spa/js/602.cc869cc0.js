"use strict";(globalThis["webpackChunkraseed_app"]=globalThis["webpackChunkraseed_app"]||[]).push([[602],{7602:(e,s,o)=>{o.r(s),o.d(s,{default:()=>Z});o(295);var a=o(1347),t=o(4187),l=o(7763),n=o(455),i=o(1400),c=o(9100);const r={class:"hero-content"},g={class:"action-buttons"},d={key:0,class:"google-signin-container"},u={key:1,class:"welcome-section"},p={class:"welcome-message"},v=["src"],m={class:"welcome-text"},k={class:"logged-in-actions"},w={__name:"HomePage",setup(e){const s=(0,n.rd)(),o="397356884501-bt6d99vcg44jur49g5peeo4ep6gg5383.apps.googleusercontent.com",w="http://localhost:8000/api/v1",h=(0,t.KR)(null),b=(0,t.KR)(!1),L=(0,a.EW)(()=>i.Z.user&&(i.Z.user.picture||i.Z.user.imageUrl||i.Z.user.image||i.Z.user.profilePicture||i.Z.user.avatar||i.Z.user.profile&&i.Z.user.profile.picture)||"https://cdn.quasar.dev/img/avatar.png");function f(){s.push("/create-raseed")}function y(){s.push("/assistant")}function A(){if(window.google&&window.google.accounts)return void _();const e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.onload=()=>{console.log("Google API loaded successfully"),setTimeout(_,500)},e.onerror=e=>{console.error("Failed to load Google API:",e),h.value={success:!1,message:"Failed to load Google API",details:"Check if Google services are blocked by your network/firewall"}},document.head.appendChild(e)}function _(){try{if(!window.google||!window.google.accounts)throw new Error("Google API not available");window.google.accounts.id.initialize({client_id:o,callback:I,auto_select:!1,cancel_on_tap_outside:!1});const e=document.getElementById("google-signin-button");e&&(window.google.accounts.id.renderButton(e,{theme:"filled_blue",size:"large",width:280,text:"signin_with",shape:"pill"}),console.log("Google Sign-In button rendered"))}catch(e){console.error("Error initializing Google Sign-In:",e),h.value={success:!1,message:"Failed to initialize Google Sign-In",details:e.message}}}async function I(e){console.log("Google login response:",e),b.value=!0;try{const o=JSON.parse(atob(e.credential.split(".")[1]));console.log("Decoded Google payload:",o),h.value={success:!0,message:"Authenticating with backend...",details:`Welcome ${o.name}`};const a=await c.A.post(`${w}/auth/login`,{token:e.credential},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Backend login response:",a.data);const{token:t,user:l}=a.data;if(!t||!l)throw new Error("Invalid response from backend: missing jwt or user data");localStorage.setItem("sessionToken",t),i.Z.setUser(l),h.value={success:!0,message:"Login successful!",details:`Welcome to Raseed, ${l.name||o.name}!`},setTimeout(()=>{h.value=null,s.push("/create-raseed")},1500)}catch(e){console.error("Error during login process:",e),h.value={success:!1,message:"Login failed",details:e.response?.data?.message||e.message},localStorage.removeItem("sessionToken"),i.Z.clearUser(),setTimeout(()=>{h.value=null},5e3)}finally{b.value=!1}}return(0,a.sV)(async()=>{i.Z.user||(await(0,a.dY)(),A())}),(e,s)=>{const o=(0,a.g2)("q-avatar"),n=(0,a.g2)("q-btn"),c=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(c,{class:"homepage-container"},{default:(0,a.k6)(()=>[s[6]||(s[6]=(0,a.Lk)("div",{class:"background-waves"},[(0,a.Lk)("div",{class:"wave wave-yellow"}),(0,a.Lk)("div",{class:"wave wave-blue"})],-1)),(0,a.Lk)("div",r,[s[2]||(s[2]=(0,a.Lk)("div",{class:"branding-section"},[(0,a.Lk)("div",{class:"google-cloud-logo"},[(0,a.Lk)("span",{class:"google-text"},"THE RADIX"),(0,a.Lk)("span",{class:"cloud-text"},"SQUAD")]),(0,a.Lk)("div",{class:"presents-text"},"PRESENTS")],-1)),s[3]||(s[3]=(0,a.Lk)("div",{class:"main-title"},[(0,a.Lk)("h1",{class:"agentic-text"},[(0,a.Lk)("span",{class:"google-text"},"RASEED"),(0,a.eW)(" AI")])],-1)),s[4]||(s[4]=(0,a.Lk)("div",{class:"subtitle"}," Build the next generation of intelligent receipt management ",-1)),s[5]||(s[5]=(0,a.Lk)("div",{class:"partner-section"},[(0,a.Lk)("div",{class:"powered-by"},[(0,a.Lk)("span",null,"Powered by"),(0,a.Lk)("div",{class:"h2s-logo"},"Gemini")])],-1)),(0,a.Lk)("div",g,[(0,t.R1)(i.Z).user?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.Lk)("div",p,[(0,a.bF)(o,{size:"48px",class:"q-mr-md"},{default:(0,a.k6)(()=>[(0,a.Lk)("img",{src:L.value||"https://cdn.quasar.dev/img/avatar.png"},null,8,v)]),_:1}),(0,a.Lk)("div",null,[(0,a.Lk)("div",m,"Welcome back, "+(0,l.v_)((0,t.R1)(i.Z).user.name)+"!",1),s[1]||(s[1]=(0,a.Lk)("div",{class:"welcome-subtitle"},"Ready to manage your receipts?",-1))])]),(0,a.Lk)("div",k,[(0,a.bF)(n,{class:"get-started-btn",rounded:"",unelevated:"",color:"positive",size:"lg",icon:"receipt_long",label:"Start Managing Receipts",onClick:f}),(0,a.bF)(n,{class:"assistant-btn",rounded:"",unelevated:"",color:"primary",size:"lg",icon:"psychology",label:"Ask AI Assistant",onClick:y})])])):((0,a.uX)(),(0,a.CE)("div",d,s[0]||(s[0]=[(0,a.Lk)("div",{id:"google-signin-button",class:"google-signin-btn"},null,-1)])))])])]),_:1,__:[6]})}}};var h=o(2968),b=o(5013),L=o(5305),f=o(9039),y=o(3341),A=o(222),_=o(272),I=o.n(_);const E=(0,h.A)(w,[["__scopeId","data-v-505ff30c"]]),Z=E;I()(w,"components",{QPage:b.A,QAvatar:L.A,QBtn:f.A,QCard:y.A,QCardSection:A.A})}}]);