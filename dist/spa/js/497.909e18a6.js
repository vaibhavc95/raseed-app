"use strict";(globalThis["webpackChunkraseed_app"]=globalThis["webpackChunkraseed_app"]||[]).push([[497],{6308:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(9100);const n="http://localhost:8000/api/v1",o=!1,l=t.A.create({baseURL:n});l.interceptors.request.use(e=>{if(!o){const s=localStorage.getItem("sessionToken");s&&(e.headers.Authorization=`Bearer ${s}`)}return e},e=>Promise.reject(e));const i=l},9497:(e,s,a)=>{a.r(s),a.d(s,{default:()=>K});var t=a(1347),n=a(7763),o=a(8633),l=a(4187),i=a(176),u=a(6308);const r={class:"assistant-card"},c={class:"assistant-header"},d={class:"header-icon"},g={key:0,class:"welcome-message"},p={class:"message-content"},v={key:0,class:"message-text"},m=["innerHTML"],h={key:2,class:"typing-indicator"},k={key:0,class:"suggested-section"},y={class:"suggested-grid"},b={class:"suggested-row"},f={class:"suggested-row"},_={class:"input-area"},I={__name:"AssistantPage",setup(e){const s=(0,l.KR)(""),a=(0,l.KR)([]),I=(0,l.KR)(!1),A=(0,l.KR)(""),L=(0,l.KR)(null);function w(){A.value=(0,i.A)()}async function C(e){const t=e&&"object"===typeof e&&e.constructor&&e.constructor.name.includes("Event"),n=t?s.value.trim():e||s.value.trim();if(n&&!I.value){e&&!t||(s.value=""),a.value.push({type:"user",text:n,timestamp:new Date}),I.value=!0,F();try{const e=await u.A.post("/multi-agent-run",{query:n,session_id:A.value});a.value.push({type:"assistant",text:q(e.data?.result||"I processed your request but have no specific insights to share."),timestamp:new Date})}catch(e){console.error("Error querying assistant:",e),a.value.push({type:"assistant",text:"Sorry, I encountered an error processing your request. Please try again.",timestamp:new Date})}finally{I.value=!1,F()}}}function q(e){return"string"!==typeof e?String(e||""):e}function F(){(0,t.dY)(()=>{L.value&&(L.value.scrollTop=L.value.scrollHeight)})}return(0,t.sV)(()=>{w()}),(e,l)=>{const i=(0,t.g2)("q-icon"),u=(0,t.g2)("q-badge"),A=(0,t.g2)("q-btn"),w=(0,t.g2)("q-input"),q=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(q,{class:"assistant-bg"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",r,[(0,t.Lk)("div",c,[(0,t.Lk)("div",d,[(0,t.bF)(i,{name:"psychology_alt",color:"positive",size:"28px"})]),l[5]||(l[5]=(0,t.Lk)("span",{class:"assistant-title"},"AI Financial Assistant",-1)),(0,t.bF)(u,{color:"positive",class:"gemini-badge",label:"Powered by Gemini"})]),(0,t.Lk)("div",{class:"messages-area",ref_key:"messagesContainer",ref:L},[0===a.value.length?((0,t.uX)(),(0,t.CE)("div",g,l[6]||(l[6]=[(0,t.Lk)("p",{class:"welcome-text"}," Hi! I'm your AI financial assistant. Ask me anything about your spending, receipts, or financial insights. I can help in any language! ",-1)]))):((0,t.uX)(!0),(0,t.CE)(t.FK,{key:1},(0,t.pI)(a.value,(e,s)=>((0,t.uX)(),(0,t.CE)("div",{key:s,class:(0,n.C4)(["message-item",{"user-message":"user"===e.type,"assistant-message":"assistant"===e.type}])},[(0,t.Lk)("div",p,["user"===e.type?((0,t.uX)(),(0,t.CE)("div",v,(0,n.v_)(e.text),1)):((0,t.uX)(),(0,t.CE)("div",{key:1,class:"message-text",innerHTML:e.text},null,8,m))])],2))),128)),I.value?((0,t.uX)(),(0,t.CE)("div",h,l[7]||(l[7]=[(0,t.Lk)("div",{class:"typing-dots"},[(0,t.Lk)("span"),(0,t.Lk)("span"),(0,t.Lk)("span")],-1)]))):(0,t.Q3)("",!0)],512),0===a.value.length?((0,t.uX)(),(0,t.CE)("div",k,[l[12]||(l[12]=(0,t.Lk)("div",{class:"suggested-label"},"Suggested questions:",-1)),(0,t.Lk)("div",y,[(0,t.Lk)("div",b,[(0,t.bF)(A,{"no-caps":"",unelevated:"",class:"suggested-btn",onClick:l[0]||(l[0]=e=>C("What can I cook from what I bought in the last 2 weeks?"))},{default:(0,t.k6)(()=>l[8]||(l[8]=[(0,t.eW)(" What can I cook from what I bought in the last 2 weeks? ",-1)])),_:1,__:[8]}),(0,t.bF)(A,{"no-caps":"",unelevated:"",class:"suggested-btn",onClick:l[1]||(l[1]=e=>C("How much did I spend on groceries last month?"))},{default:(0,t.k6)(()=>l[9]||(l[9]=[(0,t.eW)(" How much did I spend on groceries last month? ",-1)])),_:1,__:[9]})]),(0,t.Lk)("div",f,[(0,t.bF)(A,{"no-caps":"",unelevated:"",class:"suggested-btn",onClick:l[2]||(l[2]=e=>C("Do I still have enough detergent for my laundry?"))},{default:(0,t.k6)(()=>l[10]||(l[10]=[(0,t.eW)(" Do I still have enough detergent for my laundry? ",-1)])),_:1,__:[10]}),(0,t.bF)(A,{"no-caps":"",unelevated:"",class:"suggested-btn",onClick:l[3]||(l[3]=e=>C("Am I spending more than usual?"))},{default:(0,t.k6)(()=>l[11]||(l[11]=[(0,t.eW)(" Am I spending more than usual? ",-1)])),_:1,__:[11]})])])])):(0,t.Q3)("",!0),(0,t.Lk)("div",_,[(0,t.bF)(w,{modelValue:s.value,"onUpdate:modelValue":l[4]||(l[4]=e=>s.value=e),placeholder:"Ask me anything about your spending...",outlined:"",rounded:"","bg-color":"white",dense:"",class:"chat-input",onKeyup:(0,o.jR)(C,["enter"])},{before:(0,t.k6)(()=>[(0,t.bF)(A,{round:"",flat:"",dense:"",icon:"mic",color:"grey-7",class:"q-mr-xs"})]),after:(0,t.k6)(()=>[(0,t.bF)(A,{round:"",flat:"",dense:"",icon:"send",color:"primary",class:"send-btn",onClick:C})]),_:1},8,["modelValue"])])])]),_:1})}}};var A=a(2968),L=a(5013),w=a(3933),C=a(8155),q=a(9039),F=a(6067),x=a(272),E=a.n(x);const X=(0,A.A)(I,[["__scopeId","data-v-7b956c84"]]),K=X;E()(I,"components",{QPage:L.A,QIcon:w.A,QBadge:C.A,QBtn:q.A,QInput:F.A})}}]);